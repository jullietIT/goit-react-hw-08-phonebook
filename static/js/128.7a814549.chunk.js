"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[128],{128:function(n,t,e){e.r(t),e.d(t,{default:function(){return Q}});var r,a,u,c,o,s=e(885),i=e(2791),p=e(168),l=e(6444),d=l.ZP.div(r||(r=(0,p.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 300px;\n  height: 250px;\n  border: 2px solid #000;\n  border-radius: 10px;\n  margin: 100px auto 10px;\n"]))),f=l.ZP.label(a||(a=(0,p.Z)(["\n  display: block;\n  text-align: center;\n  font-weight: 700;\n"]))),h=l.ZP.input(u||(u=(0,p.Z)(["\n  display: block;\n  margin-top: 20px;\n  margin-bottom: 20px;\n"]))),x=l.ZP.button(c||(c=(0,p.Z)(["\n  min-width: 150px;\n  padding: 4px 12px;\n  margin-top: 10px;\n  border: 1px solid #000;\n  border-radius: 6px;\n  text-transform: capitalize;\n  cursor: pointer;\n  text-transform: capitalize;\n\n  cursor: pointer;\n  :hover,\n  :focus {\n    background-color: yellow;\n    color: black;\n  }\n"]))),m=l.ZP.h1(o||(o=(0,p.Z)(["\n  display: flex;\n  justify-content: center;\n  color: blue;\n  font-size: 40px;\n  margin-top: -80px;\n"]))),g=function(n){return n.contacts.contacts},b=function(n){return n.filter.status},v=function(n){return n.contacts.isLoading},Z=function(n){return n.contacts.error},j=e(9434),y=e(5861),w=e(4687),k=e.n(w),C=e(6382),P=e(2388);P.Z.defaults.baseURL="https://connections-api.herokuapp.com/";var z,S,V,W,_,A,L=function(n){P.Z.defaults.headers.common.Authorization="Bearer ".concat(n)},F=((0,C.hg)("auth/register",function(){var n=(0,y.Z)(k().mark((function n(t,e){var r;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,P.Z.post("/users/signup",t);case 3:return r=n.sent,L(r.data.token),n.abrupt("return",r.data);case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",e.rejectWithValue(n.t0.message));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(t,e){return n.apply(this,arguments)}}()),(0,C.hg)("auth/login",function(){var n=(0,y.Z)(k().mark((function n(t,e){var r;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,P.Z.post("/users/login",t);case 3:return r=n.sent,L(r.data.token),n.abrupt("return",r.data);case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",e.rejectWithValue(n.t0.message));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(t,e){return n.apply(this,arguments)}}()),(0,C.hg)("auth/refresh",function(){var n=(0,y.Z)(k().mark((function n(t,e){var r,a,u;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.getState(),null!==(a=r.auth.token)){n.next=4;break}return n.abrupt("return",e.rejectWithValue("Unable to fetch user"));case 4:return n.prev=4,L(a),n.next=8,P.Z.get("/users/me");case 8:return u=n.sent,n.abrupt("return",u.data);case 12:return n.prev=12,n.t0=n.catch(4),n.abrupt("return",e.rejectWithValue(n.t0.message));case 15:case"end":return n.stop()}}),n,null,[[4,12]])})));return function(t,e){return n.apply(this,arguments)}}()),(0,C.hg)("auth/logout",function(){var n=(0,y.Z)(k().mark((function n(t,e){return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,P.Z.post("/users/logout");case 3:P.Z.defaults.headers.common.Authorization="",n.next=9;break;case 6:return n.prev=6,n.t0=n.catch(0),n.abrupt("return",e.rejectWithValue(n.t0.message));case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(t,e){return n.apply(this,arguments)}}()),"Sorry! Something went wrong. Please refresh this page and try again."),I=(0,C.hg)("contacts/fetchAll",function(){var n=(0,y.Z)(k().mark((function n(t,e){var r;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,P.Z.get("/contacts");case 3:return r=n.sent,n.abrupt("return",r.data);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",e.rejectWithValue(F));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t,e){return n.apply(this,arguments)}}()),q=(0,C.hg)("contacts/addContacts",function(){var n=(0,y.Z)(k().mark((function n(t,e){var r,a,u;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.name,a=t.number,n.prev=1,n.next=4,P.Z.post("/contacts",{name:r,number:a});case 4:return u=n.sent,n.abrupt("return",u.data);case 8:return n.prev=8,n.t0=n.catch(1),n.abrupt("return",e.rejectWithValue(F));case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(t,e){return n.apply(this,arguments)}}()),M=(0,C.hg)("contacts/deleteContact",function(){var n=(0,y.Z)(k().mark((function n(t,e){var r;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,P.Z.delete("/contacts/".concat(t));case 3:return r=n.sent,n.abrupt("return",r.data);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",e.rejectWithValue("errorMessage"));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t,e){return n.apply(this,arguments)}}()),N=e(184),R=function(){var n=(0,j.I0)(),t=(0,i.useState)(""),e=(0,s.Z)(t,2),r=e[0],a=e[1],u=(0,i.useState)(""),c=(0,s.Z)(u,2),o=c[0],p=c[1],l=function(n){var t=n.currentTarget,e=t.name,r=t.value;switch(e){case"name":a(r);break;case"number":p(r)}},b=(0,j.v9)(g);return(0,N.jsxs)(d,{children:[(0,N.jsx)(m,{children:"Phonebook"}),(0,N.jsxs)("form",{onSubmit:function(t){t.preventDefault(),b.some((function(n){return n.name.toLowerCase()===r.toLowerCase()}))?alert("".concat(r," is already in contacts")):n(q({name:r,number:o})),a(""),p("")},children:[(0,N.jsxs)(f,{children:["Name",(0,N.jsx)(h,{type:"text",name:"name",value:r,onChange:l,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 \u0431\u0443\u043a\u0432, \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u044b\u0445",required:!0})]}),(0,N.jsxs)(f,{children:["Number",(0,N.jsx)(h,{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",value:o,onChange:l,title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +"})]}),(0,N.jsx)(x,{type:"submit",children:"Add contact"})]})]})},U=l.ZP.ul(z||(z=(0,p.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  align-content: center;\n  margin: 10px;\n  gap: 6px;\n  width: 500px;\n  text-align: center;\n  list-style: none;\n  margin: 0 auto;\n"]))),B=l.ZP.button(S||(S=(0,p.Z)(["\n  min-width: 80px;\n  padding: 4px 12px;\n  margin-top: 10px;\n  margin-left: 20px;\n  border: 1px solid #000;\n  border-radius: 6px;\n  text-transform: capitalize;\n  cursor: pointer;\n  :hover,\n  :focus {\n    background-color: yellow;\n    color: black;\n  }\n"]))),D=function(){var n=(0,j.v9)(g),t=(0,j.v9)(b),e=(0,j.I0)(),r=(0,j.v9)(v),a=(0,j.v9)(Z),u=n.filter((function(n){return n.name.toLocaleLowerCase().includes(t.toLowerCase())}));return(0,i.useEffect)((function(){e(I())}),[e]),(0,N.jsxs)(U,{children:[r&&!a&&(0,N.jsx)("p",{children:"Request in progress..."}),a&&(0,N.jsx)("p",{}),u.map((function(n){var t=n.id,r=n.name,a=n.number;return(0,N.jsxs)("li",{children:[r,": ",a,(0,N.jsx)(B,{type:"button",onClick:function(){return e(M(t))},children:"delete"})]},t)}))]})},E=l.ZP.div(V||(V=(0,p.Z)(["\n  display: flex;\n  justify-content: center;\n\n  align-items: center;\n  flex-direction: column;\n  /* position: absolute; */\n"]))),T=l.ZP.h2(W||(W=(0,p.Z)(["\n  display: flex;\n  justify-content: center;\n  color: blue;\n  font-size: 36px;\n"]))),$=l.ZP.h3(_||(_=(0,p.Z)(["\n  display: flex;\n  justify-content: center;\n  margin: 10px 10px;\n"]))),G=(0,C.oM)({name:"filters",initialState:{status:""},reducers:{setStatusFilter:function(n,t){n.status=t.payload}}}),H=G.actions.setStatusFilter,J=(G.reducer,e(5984)),K=function(){var n=(0,j.I0)(),t=(0,j.v9)(b),e=(0,J.x0)(3);return(0,N.jsxs)(E,{htmlFor:e,children:[(0,N.jsx)(T,{children:"Contacts"}),(0,N.jsx)($,{children:"Find contact by name"}),(0,N.jsx)("label",{children:(0,N.jsx)("input",{type:"text",id:e,value:t,onChange:function(t){n(H(t.target.value))}})})]})},O=l.ZP.div(A||(A=(0,p.Z)(["\n  border: 1px solid black;\n  width: 500px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  border-radius: 10px;\n  margin-left: auto;\n  margin-right: auto;\n  box-shadow: rgb(0 1 0) 5px 5px 15px 5px;\n  height: auto;\n  text-align: center;\n  margin-top: 10px;\n  border: 4mm ridge rgba(211, 220, 50, 0.6);\n"])));function Q(){return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(O,{children:[(0,N.jsx)(R,{}),(0,N.jsx)(K,{}),(0,N.jsx)(D,{})]})})}}}]);
//# sourceMappingURL=128.7a814549.chunk.js.map